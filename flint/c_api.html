<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="prev" title="C Extensions with flints" href="c_ext.html" />

    <!-- Generated with Sphinx 7.2.3 and Furo 2023.08.19 -->
        <title>Flint C API - flint 0.3.4 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">flint 0.3.4 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">flint 0.3.4 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Installation and Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_api.html">Flint Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel.html">Building and Testing from Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="c_ext.html">C Extensions with flints</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Flint C API</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="flint-c-api">
<h1>Flint C API<a class="headerlink" href="#flint-c-api" title="Link to this heading">#</a></h1>
<section id="pure-c-flint-objects-and-functions">
<h2>Pure C flint objects and functions<a class="headerlink" href="#pure-c-flint-objects-and-functions" title="Link to this heading">#</a></h2>
<p>Rounded floating point interval arithmetic and simple math functions in C</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.flint">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint</span></span></span><a class="headerlink" href="#c.flint" title="Link to this definition">#</a><br /></dt>
<dd><p>Rounded floating point interval with tracked value</p>
<p>There are three tracked values a lower and upper bound of the interval as well as a
tracked valuse that acts exactly like a 64 bit float (c double) for easy cast back
to a float.</p>
<dl class="c member">
<dt class="sig sig-object c" id="c.flint.a">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">a</span></span></span><a class="headerlink" href="#c.flint.a" title="Link to this definition">#</a><br /></dt>
<dd><p>The lower bound</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.flint.b">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">b</span></span></span><a class="headerlink" href="#c.flint.b" title="Link to this definition">#</a><br /></dt>
<dd><p>The upper bound</p>
</dd></dl>

<dl class="c member">
<dt class="sig sig-object c" id="c.flint.v">
<span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">v</span></span></span><a class="headerlink" href="#c.flint.v" title="Link to this definition">#</a><br /></dt>
<dd><p>The tracked value</p>
</dd></dl>

</dd></dl>

<section id="pre-defined-constants-in-flint-types">
<span id="constants"></span><h3>Pre-defined constants in flint types<a class="headerlink" href="#pre-defined-constants-in-flint-types" title="Link to this heading">#</a></h3>
<p>These are the real number mathicatical constants as flint types. They the lower and
upper boundaries are two consecutive floating point numbers that bound the actual
constant, and the tracked value is the boundary value that is closer to the
constantâ€™s value.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Add in the other constants defined in the GNU math.h header file.</p>
</div>
<dl class="c macro">
<dt class="sig sig-object c" id="c.FLINT_2PI">
<span class="sig-name descname"><span class="n"><span class="pre">FLINT_2PI</span></span></span><a class="headerlink" href="#c.FLINT_2PI" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-2pi"></span></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.FLINT_PI">
<span class="sig-name descname"><span class="n"><span class="pre">FLINT_PI</span></span></span><a class="headerlink" href="#c.FLINT_PI" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-pi"></span></dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.FLINT_PI_2">
<span class="sig-name descname"><span class="n"><span class="pre">FLINT_PI_2</span></span></span><a class="headerlink" href="#c.FLINT_PI_2" title="Link to this definition">#</a><br /></dt>
<dd></dd></dl>

</section>
<section id="casting-to-and-from-flints">
<span id="casting"></span><span id="flint-pi-2"></span><h3>Casting to and from flints<a class="headerlink" href="#casting-to-and-from-flints" title="Link to this heading">#</a></h3>
<p>The following rules are followed when casting <em>to</em> flints:</p>
<ol class="arabic simple">
<li><p>For integers, if the integer can be exactly represented as a 64-bit float, then
the lower, upper, and tracked values are all set to the tracked values</p></li>
<li><p>For intergers, if they are larger than can be represented as a 64-bit float, then
the tracked value is set the the closest floating point value, and the lower and
upper values are raised and lowered by 1 ULP.</p></li>
<li><p>For floating point values, it will be assumed that the intended value is NOT
exactly represetned by the input. The tracked value shall be set to the input
and the upper and lower bounds are moved outware by 1 ULP of the input type.</p></li>
</ol>
<p>When casting <em>from</em> flints, the tracked value is returns as a 64 bit floating
point (c double) which can then be cast using standard C casting rules.</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.int_to_flint">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">int_to_flint</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="kt"><span class="pre">long</span></span><span class="w"> </span><span class="n"><span class="pre">l</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.int_to_flint" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="int-to-flint"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.float_to_flint">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">float_to_flint</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.float_to_flint" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="float-to-flint"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.double_to_flint">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">double_to_flint</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.double_to_flint" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="double-to-flint"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_to_double">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_to_double</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_to_double" title="Link to this definition">#</a><br /></dt>
<dd></dd></dl>

</section>
<section id="floating-point-special-value-queries">
<span id="special-value-query"></span><span id="flint-to-double"></span><h3>Floating point special value queries<a class="headerlink" href="#floating-point-special-value-queries" title="Link to this heading">#</a></h3>
<p>There are several special values in the <a class="reference external" href="https://en.wikipedia.org/wiki/IEEE_754">IEEE-754 floating point representation</a> including +/- infinity and not-a-number
(NaN). Since those values might be fed as inputs into various functions that have
been chained together, <a class="reference external" href="https://numpy.org/">numpy</a> requires four functions to check
for those values: <code class="docutils literal notranslate"><span class="pre">nonzero</span></code>, <code class="docutils literal notranslate"><span class="pre">isnan</span></code>, <code class="docutils literal notranslate"><span class="pre">isinf</span></code>, and <code class="docutils literal notranslate"><span class="pre">isfinite</span></code>.</p>
<p>For the flint types:</p>
<p><code class="docutils literal notranslate"><span class="pre">nonzero</span></code> : the interval does NOT contain zero. <code class="docutils literal notranslate"><span class="pre">isnan</span></code> : neither boundary or
tracked value are a NaN. <code class="docutils literal notranslate"><span class="pre">isinf</span></code> : one of the two boundaries is infinite.
<code class="docutils literal notranslate"><span class="pre">isfinite</span></code> : neither boundary is infinite.</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.flint_nonzero">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_nonzero</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_nonzero" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-nonzero"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_isnan">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_isnan</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_isnan" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-isnan"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_isinf">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_isinf</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_isinf" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-isinf"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_isfinite">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_isfinite</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_isfinite" title="Link to this definition">#</a><br /></dt>
<dd></dd></dl>

</section>
<section id="comparisons">
<span id="flint-isinfinite"></span><span id="id2"></span><h3>Comparisons<a class="headerlink" href="#comparisons" title="Link to this heading">#</a></h3>
<p>For comparisons we have to worry about equality as well as a sense or order (greater
than or less than). Since flints are intervals, with an lower and upper boundary
we can use standard <a class="reference external" href="https://en.wikipedia.org/wiki/Interval_order">interval order</a>
where we define equality as the intervals overlapping, and less that or greater than
as an intervals not overlapping at all and lying completely to the left or right
along the number line.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although the flints have a partial order, they do not have a strict total
order. Specifically the equality of values is NOT transitive.</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[a = b, \quad\text{and}\quad b = c, \quad\text{but}\quad a \ne c.\]</div>
</div>
</div>
<p>The following functions implement all comparisons <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>,
<code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, and <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>. The return value is 1 if it evalutes true, 0 if false.</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.flint_eq">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_eq</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_eq" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-eq"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_ne">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_ne</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_ne" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-ne"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_le">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_le</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_le" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-le"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_lt">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_lt</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_lt" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-lt"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_ge">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_ge</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_ge" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-ge"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_gt">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_gt</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_gt" title="Link to this definition">#</a><br /></dt>
<dd></dd></dl>

</section>
<section id="arithmetic">
<span id="flint-gt"></span><span id="id3"></span><h3>Arithmetic<a class="headerlink" href="#arithmetic" title="Link to this heading">#</a></h3>
<p>The IEEE-754 standard for floating point operations is as follows:</p>
<ol class="arabic simple">
<li><p>Assume that all input operand are exact</p></li>
<li><p>The result should be calculated exactly. If the result can not be exactly
represented by a floating point value it should be rounded to a neighboring
floating point value.</p></li>
</ol>
<p>In this work, we assume that the flint contains the exact value somewhere within the
interval, whose boundaries are given by floating point numbers. We can then carry
out exact <a class="reference external" href="https://en.wikipedia.org/wiki/Interval_arithmetic">interval arithmetic</a>
and then round lower and upper the boundarys of the result down and up to gaurantee
that the result lies somewhere in the new rounded interval.</p>
<section id="unary-operations">
<h4>Unary operations<a class="headerlink" href="#unary-operations" title="Link to this heading">#</a></h4>
<p>There are two unary operators defined:
1. plus <code class="docutils literal notranslate"><span class="pre">+</span></code>
2. negation <code class="docutils literal notranslate"><span class="pre">-</span></code></p>
<dl class="c function">
<dt class="sig sig-object c" id="c.flint_positive">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_positive</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_positive" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-positive"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_negative">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_negative</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_negative" title="Link to this definition">#</a><br /></dt>
<dd></dd></dl>

</section>
<section id="binary-operations">
<span id="flint-negative"></span><h4>Binary operations<a class="headerlink" href="#binary-operations" title="Link to this heading">#</a></h4>
<p>There are 4 binary operations defined and their in-place versions:</p>
<section id="addition-and">
<h5>Addition <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">+=</span></code><a class="headerlink" href="#addition-and" title="Link to this heading">#</a></h5>
<dl class="c function">
<dt class="sig sig-object c" id="c.flint_add">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_add</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_add" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-add"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_inplace_add">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_inplace_add</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_inplace_add" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-inplace-add"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_scalar_add">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_scalar_add</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">s</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_scalar_add" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-scalar-add"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_add_scalar">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_add_scalar</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">s</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_add_scalar" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-add-scalar"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_inplace_add_scalar">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_inplace_add_scalar</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">f</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">s</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_inplace_add_scalar" title="Link to this definition">#</a><br /></dt>
<dd></dd></dl>

</section>
<section id="subtraction-and">
<span id="flint-inplace-add-scalar"></span><h5>Subtraction <code class="docutils literal notranslate"><span class="pre">-</span></code> and <code class="docutils literal notranslate"><span class="pre">-=</span></code><a class="headerlink" href="#subtraction-and" title="Link to this heading">#</a></h5>
<dl class="c function">
<dt class="sig sig-object c" id="c.flint_subtract">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_subtract</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_subtract" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-subtract"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_inplace_subtract">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_inplace_subtract</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_inplace_subtract" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-inplace-subtract"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_scalar_subtract">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_scalar_subtract</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">s</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_scalar_subtract" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-scalar-subtract"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_subtract_scalar">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_subtract_scalar</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">s</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_subtract_scalar" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-subtract-scalar"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_inplace_subtract_scalar">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_inplace_subtract_scalar</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">f</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">s</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_inplace_subtract_scalar" title="Link to this definition">#</a><br /></dt>
<dd></dd></dl>

</section>
<section id="multiplication-and">
<span id="flint-inplace-subtract-scalar"></span><h5>Multiplication <code class="docutils literal notranslate"><span class="pre">-</span></code> and <code class="docutils literal notranslate"><span class="pre">-=</span></code><a class="headerlink" href="#multiplication-and" title="Link to this heading">#</a></h5>
<dl class="c function">
<dt class="sig sig-object c" id="c.flint_multiply">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_multiply</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_multiply" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-mulitply"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_inplace_multiply">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_inplace_multiply</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_inplace_multiply" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-inplace-mulitply"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_scalar_multiply">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_scalar_multiply</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">s</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_scalar_multiply" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-scalar-mulitply"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_multiply_scalar">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_multiply_scalar</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">s</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_multiply_scalar" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-mulitply-scalar"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_inplace_multiply_scalar">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_inplace_multiply_scalar</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">f</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">s</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_inplace_multiply_scalar" title="Link to this definition">#</a><br /></dt>
<dd></dd></dl>

</section>
<section id="division-and">
<span id="flint-inplace-mulitply-scalar"></span><h5>Division <code class="docutils literal notranslate"><span class="pre">/</span></code> and <code class="docutils literal notranslate"><span class="pre">/=</span></code><a class="headerlink" href="#division-and" title="Link to this heading">#</a></h5>
<dl class="c function">
<dt class="sig sig-object c" id="c.flint_divide">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_divide</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_divide" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-divide"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_inplace_divide">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_inplace_divide</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">f1</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f2</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_inplace_divide" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-inplace-divide"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_scalar_divide">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_scalar_divide</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">s</span></span>, <a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_scalar_divide" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-scalar-divide"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_divide_scalar">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_divide_scalar</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">s</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_divide_scalar" title="Link to this definition">#</a><br /></dt>
<dd><span class="target" id="flint-divide-scalar"></span></dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.flint_inplace_divide_scalar">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_inplace_divide_scalar</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">f</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n"><span class="pre">s</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_inplace_divide_scalar" title="Link to this definition">#</a><br /></dt>
<dd></dd></dl>

</section>
</section>
</section>
<section id="math-functions">
<span id="mathfunctions"></span><span id="flint-inplace-divide-scalar"></span><h3>Math functions<a class="headerlink" href="#math-functions" title="Link to this heading">#</a></h3>
<p>In addition to arithmetic, we need to make sure that we can apply most of the
<cite>elementary</cite> functions to the flints and preserve our guarantee that the result
interval included the exact value of the function applied to any value in the input
interval. There are few parts to consider for this: how accurate is the result for
the elementary function on floating point values? And how do we convert a function
for a floating point number into a function for a flint object?</p>
<p>To address the first issue: how accurate are the elementary function on floating
point numbers, we have to turn to the documentation for the math libraries. The only
one I was able to find was the <a class="reference external" href="https://www.gnu.org/software/libc/manual/html_node/Errors-in-Math-Functions.html">Errors in Math Functions</a>
section of the gnu libc manual. The answer turned ot to be more complicated that I
anticipated, depending on the hardware architecture as well as the individual
functions. But for a quick look through seemed to indicate that for most functions
for the arm 64bit and x86 32 and 64 bit, the double precision versions of most math
functions had either 1 or 2 ULP of accuracy.</p>
<p>Now lets discuss a naive implementation of the math functions for a flint object. If
the function is monotonic,</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[a &gt; b \to f(a) &gt; f(b),\]</div>
</div>
<p>then the endpoints of the boundaries of the input interval will be become the
boundaries of the output interval. So for a function <cite>double func(double x)</cite> we can
write the flint version as</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">flint</span><span class="w"> </span><span class="nf">flint_func</span><span class="p">(</span><span class="n">flint</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">flint</span><span class="w"> </span><span class="n">res</span><span class="p">;</span>
<span class="w">    </span><span class="n">res</span><span class="p">.</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nextafter</span><span class="p">(</span><span class="n">nextafter</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">a</span><span class="p">),</span><span class="w"> </span><span class="o">-</span><span class="n">INFINITY</span><span class="p">),</span><span class="w"> </span><span class="o">-</span><span class="n">INFINITY</span><span class="p">);</span>
<span class="w">    </span><span class="n">res</span><span class="p">.</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nextafter</span><span class="p">(</span><span class="n">nextafter</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">b</span><span class="p">),</span><span class="w"> </span><span class="n">INFINITY</span><span class="p">)</span><span class="w"> </span><span class="n">INFINITY</span><span class="p">);</span>
<span class="w">    </span><span class="n">res</span><span class="p">.</span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">func</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">v</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">res</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This works for all monotonically increasing functions whose domain is the full real
number line, and will work with trivial changes for monotonically decreasing
functions. However, what happens when the input interval contains an extremum of the
function? What happens if the domain is NOT the full number line. We will need some
special consideration for each case.</p>
<p>The first case is what happens when the function is not monotoic. In most cases,
there will be a single extremum, such as the minium in the <cite>hypot</cite> function as either
value goes through zero. If the interval contains that extremum, then the upper or
lower boundary of the output flint need to be reset to use the extremum as the
boundary AND that particular boundary value does not need to be expanded. Finally
some care need to be taken in the case of sine and cosine, that oscillat with
multiple extrememum.</p>
<p>The second case is what happens when the functionâ€™s domain does not cover the entire
number line. The standard response is for a C function to return NaN for an input
ouside of itâ€™s accepted domain. However for flints, we can be a little more robust.
If the interval spans the edge of the domain, then the function would return NaN for
one boundary value and a non NaN number for the other. In that case we will assume
that the valueâ€™s weâ€™re interested in are only the â€˜realâ€™ (non NaN) values and replace
the NaNâ€™s with the corresponding values at the edge of the domain. To give an
explicity example, consider the C <code class="docutils literal notranslate"><span class="pre">sqrt</span></code> function. lets say we have a flint whose
lower value is slightly below zero (1.5e-16) and upper value is above zero (1.0e-8).
The endpoints would evaluate to NaN and 1.0e-4, but we can replace the lower endpoint
with 0.0 instead of NaN. The tracked value is either kept as the direct result or
replaced with the value at the edge of the domain if it would be NaN.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is because of the special behavior depending on the interval spaning extremums
or domain boundaries that make the evaluation of these functions for flints
significantly slower compared to using floating point value directly</p>
</div>
<p>The following functions defined in the c99 <code class="docutils literal notranslate"><span class="pre">math.h</span></code> header file have flint
implementation with the following signature:</p>
<dl class="c function">
<dt class="sig sig-object c" id="c.flint_FUNCNAME">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flint_FUNCNAME</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">fa</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.flint_FUNCNAME" title="Link to this definition">#</a><br /></dt>
<dd></dd></dl>

<section id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Link to this heading">#</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">power</span></code>
<code class="docutils literal notranslate"><span class="pre">absolute</span></code>
<code class="docutils literal notranslate"><span class="pre">sqrt</span></code>
<code class="docutils literal notranslate"><span class="pre">cbrt</span></code>
<code class="docutils literal notranslate"><span class="pre">hypot</span></code>
<code class="docutils literal notranslate"><span class="pre">exp</span></code>
<code class="docutils literal notranslate"><span class="pre">exp2</span></code>
<code class="docutils literal notranslate"><span class="pre">expm1</span></code>
<code class="docutils literal notranslate"><span class="pre">log</span></code>
<code class="docutils literal notranslate"><span class="pre">log10</span></code>
<code class="docutils literal notranslate"><span class="pre">log2</span></code>
<code class="docutils literal notranslate"><span class="pre">log1p</span></code>
<code class="docutils literal notranslate"><span class="pre">erf</span></code>
<code class="docutils literal notranslate"><span class="pre">erfc</span></code>
<code class="docutils literal notranslate"><span class="pre">sin</span></code>
<code class="docutils literal notranslate"><span class="pre">cos</span></code>
<code class="docutils literal notranslate"><span class="pre">tan</span></code>
<code class="docutils literal notranslate"><span class="pre">asin</span></code>
<code class="docutils literal notranslate"><span class="pre">acos</span></code>
<code class="docutils literal notranslate"><span class="pre">atan</span></code>
<code class="docutils literal notranslate"><span class="pre">atan2</span></code>
<code class="docutils literal notranslate"><span class="pre">sinh</span></code>
<code class="docutils literal notranslate"><span class="pre">cosh</span></code>
<code class="docutils literal notranslate"><span class="pre">tanh</span></code>
<code class="docutils literal notranslate"><span class="pre">asinh</span></code>
<code class="docutils literal notranslate"><span class="pre">acosh</span></code>
<code class="docutils literal notranslate"><span class="pre">atanh</span></code></p>
<dl class="c macro">
<dt class="sig sig-object c" id="c.FLINT_MONOTONIC">
<span class="sig-name descname"><span class="n"><span class="pre">FLINT_MONOTONIC</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">fname</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.FLINT_MONOTONIC" title="Link to this definition">#</a><br /></dt>
<dd></dd></dl>

</section>
</section>
</section>
<section id="python-c-extension-objects-and-functions">
<span id="foo"></span><h2>Python C Extension objects and functions<a class="headerlink" href="#python-c-extension-objects-and-functions" title="Link to this heading">#</a></h2>
<p>Python C-API for flints</p>
<dl class="c struct">
<dt class="sig sig-object c" id="c.PyFlint">
<span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyFlint</span></span></span><a class="headerlink" href="#c.PyFlint" title="Link to this definition">#</a><br /></dt>
<dd><p>The python flint object</p>
<dl class="c member">
<dt class="sig sig-object c" id="c.PyFlint.obval">
<a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">obval</span></span></span><a class="headerlink" href="#c.PyFlint.obval" title="Link to this definition">#</a><br /></dt>
<dd><p>The flint c struct</p>
</dd></dl>

</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.PyFlint_Type_Ptr">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">PyTypeObject</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">PyFlint_Type_Ptr</span></span></span><a class="headerlink" href="#c.PyFlint_Type_Ptr" title="Link to this definition">#</a><br /></dt>
<dd><p>A pointer to the PyTypeObject for the PyFlints</p>
<p>Because of the programming standard or declaring everything static outside of
enclosing functions, it is neccessary to use this pointer when you need to access
the PyTypeObject* for the PyFlint instead of the direct address &amp;PyFlint_Type.</p>
</dd></dl>

<dl class="c var">
<dt class="sig sig-object c" id="c.NPY_FLINT">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NPY_FLINT</span></span></span><a class="headerlink" href="#c.NPY_FLINT" title="Link to this definition">#</a><br /></dt>
<dd><p>The integer enumeration for the custom â€˜flintâ€™ type in numpy.</p>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.import_flint">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">import_flint</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.import_flint" title="Link to this definition">#</a><br /></dt>
<dd><p>Import the c api for numpy-flint python module</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>0 on success -1 on failure</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyFlint_Check">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyFlint_Check</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">PyObject</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ob</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyFlint_Check" title="Link to this definition">#</a><br /></dt>
<dd><p>Check if an object is a flint</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ob</strong> â€“ The PyObject to check</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>1 if the object is a flint, 0 otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyFlint_FromFlint">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">PyObject</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">PyFlint_FromFlint</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="n"><span class="pre">f</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyFlint_FromFlint" title="Link to this definition">#</a><br /></dt>
<dd><p>Create a PyFlint object from a c flint struct.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> â€“ The c flint struct</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new PyFlint object that contains a copy of f</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyFlint_AsFlint">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#c.flint" title="flint"><span class="n"><span class="pre">flint</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyFlint_AsFlint</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">PyObject</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ob</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyFlint_AsFlint" title="Link to this definition">#</a><br /></dt>
<dd><p>Get a C flint from a PyFlint</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ob</strong> â€“ The PyFlint object</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The coresponding flint value</p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.PyFlint_AsDouble">
<span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PyFlint_AsDouble</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">PyObject</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ob</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.PyFlint_AsDouble" title="Link to this definition">#</a><br /></dt>
<dd><p>Get a C double from a PyFlint</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ob</strong> â€“ The PyFlint object</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The coresponding flint center value</p>
</dd>
</dl>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="c_ext.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">C Extensions with flints</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Flint C API</a><ul>
<li><a class="reference internal" href="#pure-c-flint-objects-and-functions">Pure C flint objects and functions</a><ul>
<li><a class="reference internal" href="#pre-defined-constants-in-flint-types">Pre-defined constants in flint types</a></li>
<li><a class="reference internal" href="#casting-to-and-from-flints">Casting to and from flints</a></li>
<li><a class="reference internal" href="#floating-point-special-value-queries">Floating point special value queries</a></li>
<li><a class="reference internal" href="#comparisons">Comparisons</a></li>
<li><a class="reference internal" href="#arithmetic">Arithmetic</a><ul>
<li><a class="reference internal" href="#unary-operations">Unary operations</a></li>
<li><a class="reference internal" href="#binary-operations">Binary operations</a><ul>
<li><a class="reference internal" href="#addition-and">Addition <code class="docutils literal notranslate"><span class="pre">+</span></code> and <code class="docutils literal notranslate"><span class="pre">+=</span></code></a></li>
<li><a class="reference internal" href="#subtraction-and">Subtraction <code class="docutils literal notranslate"><span class="pre">-</span></code> and <code class="docutils literal notranslate"><span class="pre">-=</span></code></a></li>
<li><a class="reference internal" href="#multiplication-and">Multiplication <code class="docutils literal notranslate"><span class="pre">-</span></code> and <code class="docutils literal notranslate"><span class="pre">-=</span></code></a></li>
<li><a class="reference internal" href="#division-and">Division <code class="docutils literal notranslate"><span class="pre">/</span></code> and <code class="docutils literal notranslate"><span class="pre">/=</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#math-functions">Math functions</a><ul>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#python-c-extension-objects-and-functions">Python C Extension objects and functions</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=1e28cc32"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>